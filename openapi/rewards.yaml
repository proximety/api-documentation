openapi: '3.0.2'
info:
  title: Vouchers Service
  version: '1.0'
  description: Provides a set of API operations that can be performed related to rewards.
  license:
    name: Proximety
    url: www.proximety.io
servers:
  - url: https://dev.proximety.io/api
  - url: https://staging.proximety.io/api
  - url: https://www.proximety.io/api

paths:
  /point_rule:
    post: 
      tags:
        - LoyaltyPointRuleResource
      summary: Create Point rule At Admin Side.
      operationId: CreatePointRule
      requestBody:
       content:
          application/json:
            schema:
                $ref: '#/components/schemas/PointRuleRequestDTO'
      responses:
        "200":
          description: Returns the Response related To Saved Rule
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PointRuleResponseDTO'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
  /point_rule/{ruleId}:
    get: 
      tags:
        - LoyaltyPointRuleResource
      summary: Returns Details of particular created rule.
      operationId: getParticularRuleData
      parameters:
        - name: ruleId
          in: path
          description: Used as an identifier for the rule whose data needs to be fetched.
          required: true
          example: c6d68934-b59d-4863-b5e7-05dba9d90e39 
          schema:
            type: string
      
      responses:
        "200":
          description: Returns the filtered list of Vouchers
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PointRuleResponseDTO'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
    put: 
      tags:
        - LoyaltyPointRuleResource
      summary: Update Details of particular created rule.
      operationId: updateParticularRule
      parameters:
        - name: ruleId
          in: path
          description: Used as an identifier for the rule whose data needs to be updated.
          required: true
          example: c6d68934-b59d-4863-b5e7-05dba9d90e39 
          schema:
            type: string
      requestBody:
       description: Paramters for updating rule. 
       content:
          application/json:
           
            schema:
                $ref: '#/components/schemas/PointRuleRequestDTO'
      responses:
        "200":
          description: Returns the updated rule.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PointRuleResponseDTO'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
    delete: 
      tags:
        - LoyaltyPointRuleResource
      summary: Delete Details of particular created rule.
      operationId: deleteParticluarRule
      parameters:
        - name: ruleId
          in: path
          description: Used as an identifier for the rule whose data needs to be deleted.
          required: true
          schema:
            type: string
      
      responses:
        "200":
          description: Deleted The rule Successfully.
          
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
  /point_rule/points_rules_search:
    post: 
      tags:
        - LoyaltyPointRuleResource
      summary: Returns List of Admin created Point rules .
      operationId: getListOfCreatedPointRules
      requestBody:
       content:
          application/json:
            schema:
                $ref: '#/components/schemas/PointRuleSerachRequestDTO'
      
      responses:
        "200":
          description: Returns the filtered list of Rules
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PointRuleListResponse'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access  
  /customer/vouchers/{customerId}/customer_voucher_search:
    get: 
      tags:
        - CustomerVoucherResource
      summary: Returns List of Vouchers Applicable to customers .
      operationId: getCusomerVouchersList
      parameters:
        - name: customerId
          in: path
          description: Used as an identifier for the Customer whose Vouchers are fetched.
          required: true
          schema:
            type: string
    
      responses:
        "200":
          description: Returns the filtered list of Vouchers
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerVoucherListResponse'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
  /customer/vouchers/{customerId}/customer_rewards_metadata:
    get: 
      tags:
        - CustomerVoucherResource
      summary: Returns Details of Customer related Rewards MetaData.
      operationId: getCusomerVouchersListMetadata
      parameters:
        - name: customerId
          in: path
          description: Used as an identifier for the Customer whose rewards metadata is fetched.
          required: true
          schema:
            type: string
      
    
      responses:
        "200":
          description: Returns the filtered list of Vouchers
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerRewardPointsMetadataDTO'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
  /customer/vouchers/reward_points:
    post: 
      tags:
        - CustomerVoucherResource
      summary: API to add points to customer reward points after successful payment.
      operationId: add customer rewad points
      requestBody:
       description: Payments Details made. 
       content:
          application/json:
            schema:
                $ref: '#/components/schemas/PaymentDetailsList'
      responses:
        "200":
          description: Updated Customers Metadata
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerRewardPointsMetadataDTO'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
  /customer/vouchers/{voucherId}/redeem/{customerId}:
    put: 
      tags:
        - CustomerVoucherResource
      summary: API to redeem customer voucher.
      operationId: redeenVoucher
      parameters:
        - name: voucherId
          in: path
          description: Used as an identifier for the Voucher whose Vouchers are to be redeemed.
          required: true
          schema:
            type: string
        - name: customerId
          in: path
          description: Used as an identifier for the Customer whose Vouchers are are to be redeemed.
          required: true
          schema:
            type: string
      
    
      responses:
        "200":
          description: Returns the filtered list of Vouchers
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerVoucherResponseDTO'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
  /admin/vouchers/vouchers_search:
    post: 
      tags:
        - AdminVoucherResource
      summary: Returns Details of all Vouchers created for the mall.
      operationId: getAdminVouchers
      requestBody:
       description: Filters for listing the vouchers created by the admin. 
       content:
          application/json:
            schema:
              $ref: '#/components/schemas/AdminVoucherSearchRequest'
       required: true
      responses:
        "200":
          description: Returns the filtered list of Vouchers
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VoucherListResponse'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
  /admin/vouchers:         
    post: 
      tags:
        - AdminVoucherResource
      summary: Create a new Voucher at Admin Side.
      operationId: createNewVoucher
      requestBody:
        description: The Voucher Details to be added.
        content:
         application/json:
            schema:
              $ref: '#/components/schemas/AdminVoucherRequestDTO'
      responses:
        "201":
          description: Voucher Created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AdminVoucherResponseDTO'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
  /admin/vouchers/{voucherId}:
    get: 
      tags:
        - AdminVoucherResource
      summary: Get Voucher Details that's created.
      operationId: getVoucherDetails
      parameters:
  
        - name: voucherId
          in: path
          description: Used as an identifier for the voucher whose Vouchers are fetched.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Voucher Details Successfully Retrieved.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AdminVoucherResponseDTO'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
    put: 
      tags:
        - AdminVoucherResource
      summary: Update Created Voucher Details.
      operationId: updateEvent
      
      parameters:
        
        - name: voucherId
          in: path
          description: Used as an identifier for the voucher whose details are updated.
          required: true
          schema:
            type: string
      
      requestBody:
       description: The Voucher Details to be Updated. 
       content:
          application/json:
            schema:
              $ref: '#/components/schemas/AdminVoucherRequestDTO'
       required: true
      responses:
        "204":
          description: Voucher Details Successfully Updated.
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
  
    delete: 
      tags:
        - AdminVoucherResource
      summary: Delete a particluar Voucher.
      operationId: deleteVoucher
      parameters:
  
        - name: voucherId
          in: path
          description: Used as an identifier for the voucher whose details are deleted.
          required: true
          schema:
            type: string
      responses:
        "204":
          description: Delete Voucher.
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
  /rewards/customer-bills/verify:
   post:
      tags:
        - CustomerBill
      summary:  Verify customer bill.
      operationId: verifyBill
      requestBody:
       description: The Voucher Details to be Updated. 
       content:
          application/json:
            schema:
              $ref: '#/components/schemas/CustomerBill'
       required: true
      responses:
        "200":
          description: Reward point summary successfully retrieved.
          content:
            application/json:
              schema:
                  $ref: '#/components/schemas/SimilarTransactionsForBill'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
  /rewards/customer/bills/{billId}:
   get:
      tags:
        - CustomerBill
      summary:  Get customer bill.
      operationId: getBill
      parameters:
        - name: billId
          in: path
          description: Unique identifier of the customer bill
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Reward point summary successfully retrieved.
          content:
            application/json:
              schema:
                  $ref: '#/components/schemas/CustomerBill'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
   put:
      tags:
        - CustomerBill
      summary:  Update customer bill manually.
      operationId: updateBill
      parameters:
        - name: billId
          in: path
          description: Unique identifier of the customer bill
          required: true
          schema:
            type: string
      requestBody:
       content:
          application/json:
            schema:
                $ref: '#/components/schemas/CustomerBill'
      responses:
        "200":
          description: Reward point summary successfully retrieved.
          content:
            application/json:
              schema:
                  $ref: '#/components/schemas/CustomerBill'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
   patch:
      tags:
        - CustomerBill
      summary: Patch Update customer bill manually.Used for approving/rejecting
      operationId: patchUpdateBill
      parameters:
        - name: billId
          in: path
          description: Unique identifier of the customer bill
          required: true
          schema:
            type: string
      requestBody:
       content:
          application/json:
            schema:
                $ref: '#/components/schemas/CustomerBill'
      responses:
        "200":
          description: Reward point summary successfully retrieved.
          content:
            application/json:
              schema:
                  $ref: '#/components/schemas/CustomerBill'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
  /rewards/customer/bills:
   get:
      tags:
        - CustomerBill
      summary: get customer bills.
      operationId: getBills
      responses:
        "200":
          description: Reward point summary successfully retrieved.
          content:
            application/json:
              schema:
                type: array
                items: 
                  $ref: '#/components/schemas/CustomerBillLite'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
  /rewards/customer/{customerId}/bills/upload:
   post:
      tags:
        - CustomerBill
      summary: Upload customer bill manually..
      operationId: uploadBill
      parameters:
        - name: customerId
          in: path
          description: Unique identifier of the customer
          required: true
          schema:
            type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties: 
                file:
                  type: array
                  items: 
                   format: binary
      responses:
        "200":
          description: Reward point summary successfully retrieved.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerBill'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
  /rewards/customer/{customerId}/customer_rewards_summary:
    get: 
      tags:
        - CustomerRewardResource
      summary: Get summary of customer reward points.
      operationId: getCustomerRewardPointsSummary
      parameters:
        - name: customerId
          in: path
          description: Unique identifier of the customer
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Reward point summary successfully retrieved.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RewardPointSummary'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access

  /scratch_cards:
    post: 
      tags:
        - ScratchCardResource
      summary: Create Scratch card at Admin Side.
      operationId: addScratchCard
      requestBody:
       content:
          application/json:
            schema:
                $ref: '#/components/schemas/ScratchCardRequestDTO'
      responses:
        "200":
          description: Returns the response of scratch card created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScratchCardResponseDTO'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
  /scratch_cards/{cardId}:
    get: 
      tags:
        - ScratchCardResource
      summary: Get details of scratch card.
      operationId: getScratchCardDetails
      parameters:
        - name: cardId
          in: path
          description: Unique identifier of the scratch card
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Scratch card details successfully retrieved.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScratchCardResponseDTO'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
    put: 
      tags:
        - ScratchCardResource
      summary: Update Scratch card at Admin Side.
      operationId: updateScratchCardDetails
      parameters:
        - name: cardId
          in: path
          description: Unique identifier of the scratch card
          required: true
          schema:
            type: string
      requestBody:
       content:
          application/json:
            schema:
                $ref: '#/components/schemas/ScratchCardRequestDTO'
      responses:
        "200":
          description: Returns the response of scratch card created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScratchCardResponseDTO'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
    delete: 
      tags:
        - ScratchCardResource
      summary: Delete scratch card.
      operationId: deleteScratchCard
      parameters:
        - name: cardId
          in: path
          description: Unique identifier of the scratch card
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Deleted the card Successfully.
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
  /scratch_cards/issue_coupon:
    post: 
      tags:
        - ScratchCardResource
      summary: Issue coupon.
      operationId: issueCoupon
      parameters:
        - name: couponCode
          in: query
          description: Coupon code to be issued
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Coupon issued
        "400":
          description: Not a valid coupon
        "406":
          description: Already redeemed
        "403":
          description: Unauthorized access
  /scratch_cards/scratch_card_search:
    post: 
      tags:
        - ScratchCardResource
      summary: Returns Details of all scratch cards created for the mall.
      operationId: getVouchers
      requestBody:
       description: Filters for listing the vouchers created by the admin. 
       content:
          application/json:
            schema:
              $ref: '#/components/schemas/ScratchCardSearchRequest'
       required: true
      responses:
        "200":
          description: Returns the filtered list of scratch cards
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScratchCardListResponse'
        "400":
          description: Bad request
        "403":
          description: Unauthorized access
  /scratch_cards/coupon/customer:
    get: 
      tags:
        - CustomerCouponResource
      summary: Get coupons list
      operationId: getCustomerCoupons
      parameters:
        - name: customerId
          in: query
          description: Unique identifier of coupon
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Coupon generated
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CouponResponseDTO'
        "400":
          description: Not a valid coupon
        "403":
          description: Unauthorized access
  /scratch_cards/coupon:
    post: 
      tags:
        - CustomerCouponResource
      summary: Create customer coupon.
      operationId: generateCustomerCoupon
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CouponRequestDTO'
      responses:
        "200":
          description: Coupon generated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CouponResponseDTO'
        "400":
          description: Not a valid coupon
        "403":
          description: Unauthorized access
  /scratch_cards/coupon/{couponId}:
    put: 
      tags:
        - CustomerCouponResource
      summary: Update coupon and generate coupon code.
      operationId: updateCustomerCoupon
      parameters:
        - name: couponId
          in: path
          description: Unique identifier of coupon
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CouponRequestSummaryDTO'
      responses:
        "200":
          description: Coupon updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CouponResponseDTO'
        "400":
          description: Not a valid coupon
        "403":
          description: Unauthorized access
    get: 
      tags:
        - CustomerCouponResource
      summary: Get coupon details.
      operationId: getCustomerCoupon
      parameters:
        - name: couponId
          in: path
          description: Unique identifier of coupon
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Coupon details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CouponResponseDTO'
        "400":
          description: Not a valid coupon
        "403":
          description: Unauthorized access
  /scratch_cards/probability:
    post: 
      tags:
        - ScratchCardResource
      summary: Set winning probability.
      operationId: setConfigurations
      requestBody:
       content:
          application/json:
            schema:
              $ref: '#/components/schemas/Probability'
                
      responses:
        "200":
          description: set winningProbability
          content:
            application/json:
              schema:
                type: integer
                example : 70
        "400":
          description: Invalid request
        "403":
          description: Unauthorized access
    get: 
      tags:
        - ScratchCardResource
      summary: Get winning probability.
      operationId: getConfigurations
      responses:
        "200":
          description: get winningProbability
          content:
            application/json:
              schema:
                type: integer
                example : 70
        "400":
          description:  Invalid request
        "403":
          description: Unauthorized access



  
components:
  schemas:
    VoucherListResponse:
      type: array
      items:
       $ref: '#/components/schemas/AdminVoucherResponseDTO'
    AdminVoucherResponseDTO:
      type: object
      properties:
       voucherId:
          type: string
          description: The internal system identifier for the Voucher.
          example: 5cfbaaf0-3c7b-4eb4-a3ae-ac74887e9014
       mallId:
          type: string
          description: The internal system identifier for the Mall.
          example: 5cfbaaf0-3c7b-4eb4-a3ae-ac74887e9014
       title:
          type: string
          description: title for the voucher.
          example: 30% Off
       storeId:
          type: string
       category:
          type: object
          description: Enum for Category.
          enum:
           - Shopping
           - Movies
       startDate:
          type: string
          description: The start date for the voucher.
          example: 05-12-2022
       endDate:
          type: string
          description: The end date for the voucher.
          example: 05-12-2022
       overview:
          type: string
          description: provides general overview of the voucher.
          example: The voucher is valid for 6 months from the date of its issuance.
       coinsNeeded:
          type: integer
          description: The coins needed in total to redeem the voucher.
          example: 500
       storeName:
          type: string
          description: Name of the store
          example: Nike
       status:
          type: string
          description: Voucher Statuses. 
          enum:
                - REDEEMED
                - NOT_REDEEMED
                - EXPIRED
                - APPLIED
       voucherValue:
          type: number
          description: Voucher value in rupees.
          example: 500.0
       redeemableCouponCount:
          type: integer
          description: Number of times the voucher can be redeemed.
          example: 100
       totalRedemptions:
          type: integer
          description: Total number of redemptions for the voucher.
          example: 50
    CustomerVoucherListResponse:
      type: array
      items:
       $ref: '#/components/schemas/CustomerVoucherResponseDTO'
    CustomerVoucherResponseDTO:
      type: object
      properties:
       customerId:
          type: string
          description: The internal system identifier for the Customer.
          example: 5cfbaaf0-3c7b-4eb4-a3ae-ac74887e9014
       voucherIssueId:
          type: string
          description: The internal system identifier for the VoucherIssued to customer.
          example: 5cfbaaf0-3c7b-4eb4-a3ae-ac74887e9014
       customerVoucherStatus:
          type: string
          description: Status of Voucher issued to customer.
          enum:
              - NOT_REDEEMED
              - REDEEMED
              - APPLIED
              - EXPIRED
       voucherCode:
          type: string
          description: 6 length alpha numeric String.
          example: ee12jdskdfjhalss==
       title:
          type: string
          description: title for the voucher.
          example: 30% Off
       voucher:
          type: object
          description: Have Info related to Store Details.
          $ref: '#/components/schemas/Voucher'
       isVoucherRedeemable:
          type: boolean
          description: Boolean value Indicating if Voucher is redeemable.
          
       additionalCoinsNeededToRedeem:
          type: integer
          description: Additional coins needed to redeem voucher.
          example: 100
       validForDays:
          type: integer
          description: Specifies how many days are left before voucher expires.
          example: 20
       storeName:
          type: string
          description: Name of the store.
          example: Nike
       brandLogoUrl:
          type: string
          description: Image to be shown on the voucher.
          example: https://s3.ap-south-1.amazonaws.com/proximety.io/store-images-dev/94c353f3-9f06-43a7-b1ed-4aa3b8d0f2b9.png
      
    AdminVoucherRequestDTO:
      type: object
      properties:
    
       title:
          type: string
          description: title for the voucher.
          example: 30% Off
       storeId:
          type: string
          description: Have Info related to Store Details.
          example: 0xD557BD156A424268B1450266609C29B2
       category:
          type: object
          description: Enum for Category.
          enum:
           - Shopping
           - Movies
       startDate:
          type: string
          description: The start date for the voucher.
          example: 05-12-2022
       endDate:
          type: string
          description: The end date for the voucher.
          example: 05-12-2022
       overview:
          type: string
          description: provides general overview of the voucher.
          example: The voucher is valid for 6 months from the date of its issuance.
       coinsNeeded:
          type: integer
          description: The coins needed in total to redeem the voucher.
          example: 500
       voucherValue:
          type: number
          description: Voucher value in rupees.
          example: 500.0
       redeemableCouponCount:
          type: integer
          description: Number of times the voucher can be redeemed.
          example: 100

    PointRuleRequestDTO:
      type: object
      properties:
    
       ruleName:
          type: string
          description: Name for the rule.
          example: Point Rule 1
       startDate:
          type: string
          description: The start date for the Rule.
          example: 05-12-2022
       endDate:
          type: string
          description: The end date for the Rule.
          example: 05-12-2022
       coinValue:
          type: integer
          description: Value for 1 coin.
          example: 500
       isDefault:
          type: integer
          description: Signifies whether a rule is default or not.
          example: true
       storeIds:
          type: array
          items:
           type: string
    PointRuleSerachRequestDTO:
      type: object
      properties:
    
       startDate:
          type: string
          description: The start date for the rule.
          example: 05-12-2022
       endDate:
          type: string
          description: The end date for the rule.
          example: 05-12-2022
       pointRuleStatus:
          type: string
          enum:
            - ACTIVE
            - INACTIVE
       page:
          type: integer
          description: page number for points list.
          example: 2
       size:
          type: integer
          description: size of  points list shown.
          example: 10
    
    PointRuleListResponse:
      type: array
      items:
       $ref: '#/components/schemas/PointRuleResponseDTO'
          
    PointRuleResponseDTO:
      type: object
      properties:
       ruleId:
          type: string
          description: The internal system identifier for the Rule.
          example: 5cfbaaf0-3c7b-4eb4-a3ae-ac74887e9014
       mallId:
          type: string
          description: The internal system identifier for the mall.
          example: 5cfbaaf0-3c7b-4eb4-a3ae-ac74887e9014
       ruleName:
          type: string
          description: Name for the rule.
          example: 20% off
       startDate:
          type: string
          description: The start date for the rule.
          example: 05-12-2022
       endDate:
          type: string
          description: The end date for the rule.
          example: 05-12-2022
       coinValue:
          type: integer
          description: Value for 1 coin.
          example: 500
       storeInfo:
          type: string
          description: Signifies whether a rule is applied to all stores or selective stores.
          example: true
       stores:
          type: array
          items:
           $ref: '#/components/schemas/Store'
       status:
          type: object
          description: Signifies rule status.
          enum:
              - ACTIVE
              - INACTIVE
              
    AdminVoucherSearchRequest:  
      type: object
      properties:   
        
       startDate:
          type: string
          description: The date at which Voucher starts.
          example: 05-12-2022
       endDate:
          type: string
          description: The date at which Voucher ends.
          example: 05-12-2022
       voucherStatuses:
          type: string
          description: Indicates current voucher status
          enum:
              - PAST
              - NOW RUNNING
              - UPCOMING
       page:
         type: string
         description: Specifies the page no. for which vouchers needs to be shown.

       offset:
         type: string
         description: Specifies the no of vouchers to be shown in a page.
   
    Store:
      type: object
      properties:
        UUId:
         type: string
         description: :Used as an Identifier for a Store
         example: 5cfbaaf0-3c7b-4eb4-a3ae-ac74887e9014
        name:
          type: string
          description: :Signifies name of the store
          example: Allenso Watches
        brandLogoUrl:
          type: string
          description: Url for Store
    PaymentDetailsList:
      type: array
      items:
       $ref: '#/components/schemas/PaymentDetails'
    PaymentDetails:
      type: object
      properties:
        paymentId:
         type: string
         description: :Used as an Identifier for a Payment
         example: 5cfbaaf0-3c7b-4eb4-a3ae-ac74887e9014
        mallId:
         type: string
         description: :Used as an Identifier for a mall
         example: 5cfbaaf0-3c7b-4eb4-a3ae-ac74887e9014
        customerId:
         type: string
         description: :Used as an Identifier for a customer
         example: 5cfbaaf0-3c7b-4eb4-a3ae-ac74887e9014
        storeId:
         type: string
         description: :Used as an Identifier for a store
         example: 5cfbaaf0-3c7b-4eb4-a3ae-ac74887e9014
        amount:
         type: number
         description: Amount paid at store
         example: 100.56
        category:
         type: string
         description: Enum for Category.
         enum:
          - STORE
          - RESTAURANT
          - MOVIE
    CustomerRewardPointsMetadataDTO:
      type: object
      properties:
        customerId:
         type: string
         description: :Used as an Identifier for a Customer
         example: 5cfbaaf0-3c7b-4eb4-a3ae-ac74887e9014
        mallid:
          type: string
          description: Used as an Identifier for a mall
          example: 5cfbaaf0-3c7b-4eb4-a3ae-ac74887e9014
        pointsCollected:
          type: integer
          description: Total Points Collected using rewards
        pointsAvailable:
          type: integer
          description: Total points available for redemption
        noOfActiveVouchers:
          type: integer
          description: Count of Vouchers that is active to be redeemed
    Voucher:
      type: object
      properties:
        id:
         type: integer
         description: Internal Identifier for a Voucher
         example: 1
        voucherId:
          type: string
          description: Unique Identifier for a Voucher
          example: 5cfbaaf0-3c7b-4eb4-a3ae-ac74887e9014
        mallId:
          type: string
          description: Unique Identifier for a mall
          example: 5cfbaaf0-3c7b-4eb4-a3ae-ac74887e9014
        title:
          type: string
          description: Title for a Voucher
          example: 20% off
        storeId:
          type: string
          description: Unique Identifier for a Store
          example: 5cfbaaf0-3c7b-4eb4-a3ae-ac74887e9014
        categoryId:
          type: string
          description: Unique Identifier for a Category
          example: 2
        startDate:
          type: string
          description: The start date for the voucher.
          example: 05-12-2022
        endDate:
          type: string
          description: The end date for the voucher.
          example: 05-12-2022
        overview:
          type: string
          description: provides general overview of the voucher.
          example: The voucher is valid for 6 months from the date of its issuance.
        coinsNeeded:
          type: integer
          description: The coins needed in total to redeem the voucher.
          example: 500
        voucherValue:
          type: number
          description: Voucher value in rupees.
          example: 500.0
        redeemableCouponCount:
          type: integer
          description: Number of times the voucher can be redeemed.
          example: 100
        totalRedemptions:
          type: integer
          description: Total number of redemptions for the voucher.
          example: 50
    CustomerBillLite:
      type: object
      properties:
        customerBillId:
         type: string
        billImageUrl:
         type: string
        billStatus:
         $ref: '#/components/schemas/CustomerBillStatusEnum'
    SimilarTransactionsForBill:
      type: object
      properties:
        customerBillId:
         type: string
        claimedBillFound:
         type: boolean
        transactions:
         type: array
         items:
           $ref: '#/components/schemas/RewardsTransaction'
    RewardsTransaction:
      type: object
      properties:
        customerId:
         type: string
        amount:
          type: number
        category:
          type: string
        time:
          type: string
        storeId:
          type: string
        storeName:
          type: string
    CustomerBill:
      type: object
      properties:
        customerId:
         type: string
        customerBillId:
         type: string
        images:
         type: array
         items: 
          type: string
        storeName:
         type: string
        storeId:
         type: string
        billAmount:
         type: number
        points:
         type: integer
        billStatus:
         $ref: '#/components/schemas/CustomerBillStatusEnum'
        rejectingReason:
         type: string
        invoiceNumber:
         type: string
        billDate:
         type: string
         example: '2020-10-22'
        billUploadedDate:
          example: '2020-10-22'
          type: string
    CustomerBillStatusEnum:
      type: string
      enum:
            - APPROVED
            - REJECTED
            - APPROVAL_PENDING
    RewardPointSummary:
      type: object
      properties:
        movie:
          type: object
          description: Total points earned for movie booking
          $ref: '#/components/schemas/RewardPointByCategory'
        shopping:
          type: object
          description: Total points earned for shopping
          $ref: '#/components/schemas/RewardPointByCategory'
        foodOrder:
          type: object
          description: Total points earned for food orders
          $ref: '#/components/schemas/RewardPointByCategory'
    RewardPointByCategory:
      type: object
      properties:
        category:
          type: string
          description: category name
          enum:
           - STORE
           - MOVIE
           - RESTAURANT
        orderCount:
          type: integer
          description: Total number of orders
          example: 10
        points:
          type: integer
          description: Total points earned
          example: 80
    OrderRewards:
      type: object
      description: Returns a map which has orderId as key and reward points as value
      example: {"ahdgj3kjhdf-32434-23234" : 20}

    ScratchCardRequestDTO:
      type: object
      properties:
        title:
          type: string
          description: title for the scratch card.
          example: 30% Off
        subTitle:
          type: string
          description: sub title for the scratch card.
          example: At Adidas
        storeId:
          type: string
          description: Unique id of the store.
          example: 0xD557BD156A424268B1450266609C29B2
        targetOrder:
          type: string
          description: Enum for target order type.
          enum:
           - STORE
           - MOVIE
           - RESTAURANT
        applicableStoreIds:
          type: array
          items:
           type: string
          description: List of applicable storeIds.
          example: [0xD557BD156A424268B1450266609C29B2]
        startDate:
          type: string
          description: The start date for the scratch card.
          example: 2022-12-05
        endDate:
          type: string
          description: The end date for the scratch card.
          example: 2022-12-05
        termsConditions:
          type: string
          description: provides general overview of the scratch card.
          example: The scratch card is valid for 6 months from the date of its issuance.
        dailyLimit:
          type: integer
          description: Daily limit for issuing scratch card
          example: 15
        minPurchaseValue:
          type: number
          description: Minimum purchase amount eligible for scratch card.
          example: 500.0
    ScratchCardResponseDTO:
      type: object
      properties:
        cardId:
          type: string
          description: unique identifier of scratch card.
          example: sddsfdf-24234fsd3-332w
        title:
          type: string
          description: title for the scratch card.
          example: 30% Off
        subTitle:
          type: string
          description: sub title for the scratch card.
          example: At Adidas
        storeId:
          type: string
          description: Unique id of the store.
          example: 0xD557BD156A424268B1450266609C29B2
        storeName:
          type: string
          description: Name of the store.
          example: Allenso Watches
        targetOrder:
          type: string
          description: Enum for target order type.
          enum:
           - STORE
           - MOVIE
           - RESTAURANT
        applicableStoreIds:
          type: array
          items:
           type: string
          description: List of applicable storeIds.
          example: [0xD557BD156A424268B1450266609C29B2]
        startDate:
          type: string
          description: The start date for the scratch card.
          example: 2022-12-05
        endDate:
          type: string
          description: The end date for the scratch card.
          example: 2022-12-05
        status:
          type: string
          description: Enum for scratch card status.
          enum:
           - EXPIRED
           - ACTIVE
           - UPCOMING
        termsConditions:
          type: string
          description: provides general overview of the scratch card.
          example: The voucher is valid for 6 months from the date of its issuance.
        dailyLimit:
          type: integer
          description: Daily limit for issuing scratch card
          example: 15
        minPurchaseValue:
          type: number
          description: Minimum purchase amount eligible for scratch card.
          example: 500.0
        totalWinnings:
          type: integer
          description: Total winnings of the scratch card
          example: 75
        totalRedemptions:
          type: integer
          description: Total redemptions of the scratch card
          example: 50
        storeLogoUrl:
          type : string
    CouponRequestSummaryDTO:
      type: object
      properties:
        customerId:
          type: string
          description: unique identifier of coupon.
          example: sddsfdf-24234fsd3-332w
        scratched:
          type: boolean
          description: Indicates if coupon is scratched.
    CouponRequestDTO:
      type: object
      properties:
        customerId:
          type: string
          description: unique identifier of customer.
          example: sddsfdf-24234fsd3-332w
        storeId:
          type: string
          description: unique identifier of the store.
          example: sddsfdf-24234fsd3-332w
        paymentId:
          type: string
          description: unique identifier of payment transaction.
          example: sddsfdf-24234fsd3-332w
        amount:
          type: number
          description: Purchase amount.
          example: 500.0
    CouponListDTO:
      type: object
      properties:
        couponId:
          type: string
          description: unique identifier of coupon.
          example: sddsfdf-24234fsd3-332w
        cardId:
          type: string
          description: unique identifier of scratch card.
          example: sddsfdf-24234fsd3-332w
        isScratched:
          type: boolean
        storeName:
          type: string
        brandLogoUrl:
          type: string
        storeId:
          type: string
        status:
          type: string
        scratchCard:
          $ref: '#/components/schemas/ScratchCardResponseDTO'
    CouponResponseDTO:
      type: object
      properties:
        couponId:
          type: string
          description: unique identifier of coupon.
          example: sddsfdf-24234fsd3-332w
        cardId:
          type: string
          description: unique identifier of scratch card.
          example: sddsfdf-24234fsd3-332w
        customerId:
          type: string
          description: unique identifier of customer.
          example: sddsfdf-24234fsd3-332w
        couponCode:
          type: string
          description: 8 digit coupon code.
          example: KIvw3Fkz
        createdDate:
          type: string
          description: The created date for the coupon.
          example: 2022-12-05
        couponIssued:
          type: boolean
          description: Indicates if coupon is issued.
          example: true
        scratched:
          type: boolean
          description: Indicates if coupon is scratched.
          example: true
        hasWon:
          type: boolean
        scratchCard:
           $ref: '#/components/schemas/ScratchCardResponseDTO'
    Probability:
      type: object
      properties:
        winningProbability:
          type: integer
    ScratchCardSearchRequest:  
      type: object
      properties:   
        title:
         type: string
         description: Scratch card title
        couponStatus:
          type: string
          description: Indicates current scratch card status
          enum:
              - EXPIRED
              - ACTIVE
              - UPCOMING
        page:
         type: integer
         description: Specifies the page no. for which vouchers needs to be shown.
        offset:
         type: integer
         description: Specifies the no of vouchers to be shown in a page.
   
    ScratchCardListResponse:
      type: object
      properties:
        countInCurrentPage:
          type: integer
          description: Count of scratch cards in current page
          example: 10
        totalCount:
          type: integer
          description: Total number of cards matching the applied filter
          example: 15
        scratchCards:
          type: array
          items:
            $ref: '#/components/schemas/ScratchCardResponseDTO'

    
